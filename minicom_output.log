 

Phytium-Pi#go 0x90100000
## Starting application at 0x90100000 ...
aaaaaaaaaaaacarch = aarch64
platform = aarch64-phytium-pi
target = aarch64-unknown-none-softfloat
smp = 1
build_mode = release
log_level = debug

ccc[ 42.618589 0 axruntime:138] Logging is enabled.
[ 42.624318 0 axruntime:139] Primary CPU 512 started, dtb = 0x1.
[ 42.631435 0 axruntime:141] Found physcial memory regions:
c[ 42.638207 0 axruntime:144]   [PA:0x90100000, PA:0x90123000) .text (READ | EXECUTE | RESERVED)
[ 42.648014 0 axruntime:144]   [PA:0x90123000, PA:0x9012c000) .rodata (READ | RESERVED)
[ 42.657128 0 axruntime:144]   [PA:0x9012c000, PA:0x90130000) .data .tdata .tbss .percpu (READ | WRITE | RESERVED)
[ 42.668586 0 axruntime:144]   [PA:0x90130000, PA:0x90170000) boot stack (READ | WRITE | RESERVED)
[ 42.678654 0 axruntime:144]   [PA:0x90170000, PA:0x90195000) .bss (READ | WRITE | RESERVED)
[ 42.688202 0 axruntime:144]   [PA:0x0, PA:0x1000) spintable (READ | WRITE | RESERVED)
[ 42.697229 0 axruntime:144]   [PA:0x90195000, PA:0x90495000) nocache memory (READ | WRITE | DEVICE)
[ 42.707472 0 axruntime:144]   [PA:0x90495000, PA:0xffd00000) free memory (READ | WRITE | FREE)
[ 42.717280 0 axruntime:144]   [PA:0x40000000, PA:0x50000000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.727610 0 axruntime:144]   [PA:0x50000000, PA:0x58000000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.737939 0 axruntime:144]   [PA:0x58000000, PA:0x80000000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.748268 0 axruntime:144]   [PA:0x1000000000, PA:0x1010000000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.758944 0 axruntime:144]   [PA:0x2800c000, PA:0x2800d000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.769273 0 axruntime:144]   [PA:0x2800d000, PA:0x2800e000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.779603 0 axruntime:144]   [PA:0x2800e000, PA:0x2800f000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.789932 0 axruntime:144]   [PA:0x2800f000, PA:0x28010000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.800261 0 axruntime:144]   [PA:0x30000000, PA:0x38000000) mmio (READ | WRITE | DEVICE | RESERVED)
[ 42.810590 0 axruntime:223] Initialize global memory allocator...
[ 42.817882 0 axruntime:224]   use TLSF allocator.
[ 42.823786 0 axalloc:281] initialize global allocator at: free-[0xffff000090495000, 0xffff0000ffd00000)
[ 42.834698 0 axruntime:158] Initialize kernel page table...
[ 42.841262 0 axruntime:258] Initialize global no cache memory allocator...
[ 42.849217 0 axalloc:297] initialize global allocator at: nocache-[0x90195000,0x90495000)
[ 42.858593 0 axruntime:165] Initialize platform devices...
[ 42.865274 0 axtask::api:66] Initialize scheduling...
[ 42.871527 0 axtask::task:146] new task: Task(1, "idle")
[ 42.878037 0 axtask::task:146] new task: Task(3, "gc")
[ 42.884374 0 axalloc:126] expand heap memory: [0xffff0000904a9000, 0xffff0000904e9000)
[ 42.893491 0 axalloc:126] expand heap memory: [0xffff0000904e9000, 0xffff000090569000)
[ 42.902600 0 axtask::api:72]   use FIFO scheduler.
[ 42.908588 0 axdriver:158] Initialize device drivers...
[ 42.915011 0 axdriver:159]   device model: static
[ 42.920913 0 driver_pci::phytium:22] PCIe link start @0xFFFF000040000000...
[ 42.929072 0 driver_pci::phytium:23] theroticly, since uboot had already initialized it, we need't to operate it any more! 
 or maybe we need to allocate bar addr!
[ 42.944957 0 axdriver::bus::pci:18] probing in pci.rs!
[ 42.951293 0 driver_pci::root_complex:96] into next!
[ 42.957457 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 0, function: 0 } to idx 0xFFFF000040000000
[ 42.970823 0 driver_pci::root_complex:138] begin: 00:00.0 @ 0xFFFF000040000000
[ 42.979243 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 42.986187 0 driver_pci::root_complex:145] dev + 1
[ 42.992176 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 1, function: 0 } to idx 0xFFFF000040008000
[ 43.005543 0 driver_pci::root_complex:138] begin: 00:01.0 @ 0xFFFF000040008000
[ 43.013963 0 driver_pci::root_complex:141] vid 1DB7, did DC01
[ 43.020908 0 driver_pci::root_complex:166] header_type:PciPciBridge
[ 43.028372 0 driver_pci::root_complex:169] found bridge at PciAddress { bus: 0, device: 1, function: 0 }
[ 43.039049 0 driver_pci::phytium:29] probe phytium weird pcie bridge 1
[ 43.046774 0 axdriver::bus::pci:21] PCI 00:01.0: 1DB7:DC01 (class 06.04, rev 00) PciPciBridge
[ 43.056495 0 axdriver::drivers:105] probing!
[ 43.061964 0 driver_pci::root_complex:96] into next!
[ 43.068126 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 0, function: 0 } to idx 0xFFFF000040100000
[ 43.081493 0 driver_pci::root_complex:138] begin: 01:00.0 @ 0xFFFF000040100000
[ 43.089913 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.096857 0 driver_pci::root_complex:145] dev + 1
[ 43.102846 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 1, function: 0 } to idx 0xFFFF000040108000
[ 43.116213 0 driver_pci::root_complex:138] begin: 01:01.0 @ 0xFFFF000040108000
[ 43.124633 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.131577 0 driver_pci::root_complex:145] dev + 1
[ 43.137566 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 2, function: 0 } to idx 0xFFFF000040110000
[ 43.150933 0 driver_pci::root_complex:138] begin: 01:02.0 @ 0xFFFF000040110000
[ 43.159353 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.166297 0 driver_pci::root_complex:145] dev + 1
[ 43.172286 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 3, function: 0 } to idx 0xFFFF000040118000
[ 43.185653 0 driver_pci::root_complex:138] begin: 01:03.0 @ 0xFFFF000040118000
[ 43.194073 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.201017 0 driver_pci::root_complex:145] dev + 1
[ 43.207006 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 4, function: 0 } to idx 0xFFFF000040120000
[ 43.220373 0 driver_pci::root_complex:138] begin: 01:04.0 @ 0xFFFF000040120000
[ 43.228793 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.235737 0 driver_pci::root_complex:145] dev + 1
[ 43.241726 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 5, function: 0 } to idx 0xFFFF000040128000
[ 43.255093 0 driver_pci::root_complex:138] begin: 01:05.0 @ 0xFFFF000040128000
[ 43.263513 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.270457 0 driver_pci::root_complex:145] dev + 1
[ 43.276446 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 6, function: 0 } to idx 0xFFFF000040130000
[ 43.289813 0 driver_pci::root_complex:138] begin: 01:06.0 @ 0xFFFF000040130000
[ 43.298233 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.305177 0 driver_pci::root_complex:145] dev + 1
[ 43.311166 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 7, function: 0 } to idx 0xFFFF000040138000
[ 43.324533 0 driver_pci::root_complex:138] begin: 01:07.0 @ 0xFFFF000040138000
[ 43.332953 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.339897 0 driver_pci::root_complex:145] dev + 1
[ 43.345886 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 8, function: 0 } to idx 0xFFFF000040140000
[ 43.359253 0 driver_pci::root_complex:138] begin: 01:08.0 @ 0xFFFF000040140000
[ 43.367673 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.374617 0 driver_pci::root_complex:145] dev + 1
[ 43.380606 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 9, function: 0 } to idx 0xFFFF000040148000
[ 43.393973 0 driver_pci::root_complex:138] begin: 01:09.0 @ 0xFFFF000040148000
[ 43.402393 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.409337 0 driver_pci::root_complex:145] dev + 1
[ 43.415326 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 10, function: 0 } to idx 0xFFFF000040150000
[ 43.428780 0 driver_pci::root_complex:138] begin: 01:0a.0 @ 0xFFFF000040150000
[ 43.437200 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.444144 0 driver_pci::root_complex:145] dev + 1
[ 43.450133 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 11, function: 0 } to idx 0xFFFF000040158000
[ 43.463587 0 driver_pci::root_complex:138] begin: 01:0b.0 @ 0xFFFF000040158000
[ 43.472007 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.478950 0 driver_pci::root_complex:145] dev + 1
[ 43.484939 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 12, function: 0 } to idx 0xFFFF000040160000
[ 43.498394 0 driver_pci::root_complex:138] begin: 01:0c.0 @ 0xFFFF000040160000
[ 43.506814 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.513757 0 driver_pci::root_complex:145] dev + 1
[ 43.519746 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 13, function: 0 } to idx 0xFFFF000040168000
[ 43.533200 0 driver_pci::root_complex:138] begin: 01:0d.0 @ 0xFFFF000040168000
[ 43.541620 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.548564 0 driver_pci::root_complex:145] dev + 1
[ 43.554553 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 14, function: 0 } to idx 0xFFFF000040170000
[ 43.568007 0 driver_pci::root_complex:138] begin: 01:0e.0 @ 0xFFFF000040170000
[ 43.576427 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.583371 0 driver_pci::root_complex:145] dev + 1
[ 43.589360 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 15, function: 0 } to idx 0xFFFF000040178000
[ 43.602814 0 driver_pci::root_complex:138] begin: 01:0f.0 @ 0xFFFF000040178000
[ 43.611234 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.618178 0 driver_pci::root_complex:145] dev + 1
[ 43.624167 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 16, function: 0 } to idx 0xFFFF000040180000
[ 43.637621 0 driver_pci::root_complex:138] begin: 01:10.0 @ 0xFFFF000040180000
[ 43.646041 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.652984 0 driver_pci::root_complex:145] dev + 1
[ 43.658974 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 17, function: 0 } to idx 0xFFFF000040188000
[ 43.672427 0 driver_pci::root_complex:138] begin: 01:11.0 @ 0xFFFF000040188000
[ 43.680847 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.687791 0 driver_pci::root_complex:145] dev + 1
[ 43.693780 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 18, function: 0 } to idx 0xFFFF000040190000
[ 43.707234 0 driver_pci::root_complex:138] begin: 01:12.0 @ 0xFFFF000040190000
[ 43.715654 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.722598 0 driver_pci::root_complex:145] dev + 1
[ 43.728587 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 19, function: 0 } to idx 0xFFFF000040198000
[ 43.742041 0 driver_pci::root_complex:138] begin: 01:13.0 @ 0xFFFF000040198000
[ 43.750461 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.757405 0 driver_pci::root_complex:145] dev + 1
[ 43.763394 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 20, function: 0 } to idx 0xFFFF0000401A0000
[ 43.776848 0 driver_pci::root_complex:138] begin: 01:14.0 @ 0xFFFF0000401A0000
[ 43.785268 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.792211 0 driver_pci::root_complex:145] dev + 1
[ 43.798201 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 21, function: 0 } to idx 0xFFFF0000401A8000
[ 43.811655 0 driver_pci::root_complex:138] begin: 01:15.0 @ 0xFFFF0000401A8000
[ 43.820075 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.827018 0 driver_pci::root_complex:145] dev + 1
[ 43.833008 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 22, function: 0 } to idx 0xFFFF0000401B0000
[ 43.846461 0 driver_pci::root_complex:138] begin: 01:16.0 @ 0xFFFF0000401B0000
[ 43.854881 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.861825 0 driver_pci::root_complex:145] dev + 1
[ 43.867814 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 23, function: 0 } to idx 0xFFFF0000401B8000
[ 43.881268 0 driver_pci::root_complex:138] begin: 01:17.0 @ 0xFFFF0000401B8000
[ 43.889688 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.896632 0 driver_pci::root_complex:145] dev + 1
[ 43.902621 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 24, function: 0 } to idx 0xFFFF0000401C0000
[ 43.916075 0 driver_pci::root_complex:138] begin: 01:18.0 @ 0xFFFF0000401C0000
[ 43.924495 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.931439 0 driver_pci::root_complex:145] dev + 1
[ 43.937428 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 25, function: 0 } to idx 0xFFFF0000401C8000
[ 43.950882 0 driver_pci::root_complex:138] begin: 01:19.0 @ 0xFFFF0000401C8000
[ 43.959302 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 43.966246 0 driver_pci::root_complex:145] dev + 1
[ 43.972235 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 26, function: 0 } to idx 0xFFFF0000401D0000
[ 43.985689 0 driver_pci::root_complex:138] begin: 01:1a.0 @ 0xFFFF0000401D0000
[ 43.994109 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.001052 0 driver_pci::root_complex:145] dev + 1
[ 44.007042 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 27, function: 0 } to idx 0xFFFF0000401D8000
[ 44.020495 0 driver_pci::root_complex:138] begin: 01:1b.0 @ 0xFFFF0000401D8000
[ 44.028915 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.035859 0 driver_pci::root_complex:145] dev + 1
[ 44.041848 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 28, function: 0 } to idx 0xFFFF0000401E0000
[ 44.055302 0 driver_pci::root_complex:138] begin: 01:1c.0 @ 0xFFFF0000401E0000
[ 44.063722 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.070666 0 driver_pci::root_complex:145] dev + 1
[ 44.076655 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 29, function: 0 } to idx 0xFFFF0000401E8000
[ 44.090109 0 driver_pci::root_complex:138] begin: 01:1d.0 @ 0xFFFF0000401E8000
[ 44.098529 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.105473 0 driver_pci::root_complex:145] dev + 1
[ 44.111462 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 30, function: 0 } to idx 0xFFFF0000401F0000
[ 44.124916 0 driver_pci::root_complex:138] begin: 01:1e.0 @ 0xFFFF0000401F0000
[ 44.133336 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.140280 0 driver_pci::root_complex:145] dev + 1
[ 44.146269 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 1, device: 31, function: 0 } to idx 0xFFFF0000401F8000
[ 44.159723 0 driver_pci::root_complex:138] begin: 01:1f.0 @ 0xFFFF0000401F8000
[ 44.168143 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.175086 0 driver_pci::root_complex:145] dev + 1
[ 44.181076 0 driver_pci::root_complex:110] pop stack! 00:01.0
[ 44.188020 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 1, function: 0 } to idx 0xFFFF000040008000
[ 44.201387 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 2, function: 0 } to idx 0xFFFF000040010000
[ 44.214754 0 driver_pci::root_complex:138] begin: 00:02.0 @ 0xFFFF000040010000
[ 44.223174 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.230117 0 driver_pci::root_complex:145] dev + 1
[ 44.236107 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 3, function: 0 } to idx 0xFFFF000040018000
[ 44.249474 0 driver_pci::root_complex:138] begin: 00:03.0 @ 0xFFFF000040018000
[ 44.257894 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.264838 0 driver_pci::root_complex:145] dev + 1
[ 44.270827 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 4, function: 0 } to idx 0xFFFF000040020000
[ 44.284194 0 driver_pci::root_complex:138] begin: 00:04.0 @ 0xFFFF000040020000
[ 44.292614 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.299558 0 driver_pci::root_complex:145] dev + 1
[ 44.305547 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 5, function: 0 } to idx 0xFFFF000040028000
[ 44.318914 0 driver_pci::root_complex:138] begin: 00:05.0 @ 0xFFFF000040028000
[ 44.327334 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.334278 0 driver_pci::root_complex:145] dev + 1
[ 44.340267 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 6, function: 0 } to idx 0xFFFF000040030000
[ 44.353634 0 driver_pci::root_complex:138] begin: 00:06.0 @ 0xFFFF000040030000
[ 44.362054 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.368997 0 driver_pci::root_complex:145] dev + 1
[ 44.374987 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 7, function: 0 } to idx 0xFFFF000040038000
[ 44.388354 0 driver_pci::root_complex:138] begin: 00:07.0 @ 0xFFFF000040038000
[ 44.396774 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.403718 0 driver_pci::root_complex:145] dev + 1
[ 44.409707 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 8, function: 0 } to idx 0xFFFF000040040000
[ 44.423074 0 driver_pci::root_complex:138] begin: 00:08.0 @ 0xFFFF000040040000
[ 44.431494 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.438437 0 driver_pci::root_complex:145] dev + 1
[ 44.444427 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 9, function: 0 } to idx 0xFFFF000040048000
[ 44.457794 0 driver_pci::root_complex:138] begin: 00:09.0 @ 0xFFFF000040048000
[ 44.466214 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.473157 0 driver_pci::root_complex:145] dev + 1
[ 44.479147 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 10, function: 0 } to idx 0xFFFF000040050000
[ 44.492601 0 driver_pci::root_complex:138] begin: 00:0a.0 @ 0xFFFF000040050000
[ 44.501021 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.507964 0 driver_pci::root_complex:145] dev + 1
[ 44.513954 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 11, function: 0 } to idx 0xFFFF000040058000
[ 44.527408 0 driver_pci::root_complex:138] begin: 00:0b.0 @ 0xFFFF000040058000
[ 44.535828 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.542771 0 driver_pci::root_complex:145] dev + 1
[ 44.548760 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 12, function: 0 } to idx 0xFFFF000040060000
[ 44.562214 0 driver_pci::root_complex:138] begin: 00:0c.0 @ 0xFFFF000040060000
[ 44.570634 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.577578 0 driver_pci::root_complex:145] dev + 1
[ 44.583567 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 13, function: 0 } to idx 0xFFFF000040068000
[ 44.597021 0 driver_pci::root_complex:138] begin: 00:0d.0 @ 0xFFFF000040068000
[ 44.605441 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.612385 0 driver_pci::root_complex:145] dev + 1
[ 44.618374 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 14, function: 0 } to idx 0xFFFF000040070000
[ 44.631828 0 driver_pci::root_complex:138] begin: 00:0e.0 @ 0xFFFF000040070000
[ 44.640248 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.647191 0 driver_pci::root_complex:145] dev + 1
[ 44.653181 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 15, function: 0 } to idx 0xFFFF000040078000
[ 44.666635 0 driver_pci::root_complex:138] begin: 00:0f.0 @ 0xFFFF000040078000
[ 44.675055 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.681998 0 driver_pci::root_complex:145] dev + 1
[ 44.687987 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 16, function: 0 } to idx 0xFFFF000040080000
[ 44.701442 0 driver_pci::root_complex:138] begin: 00:10.0 @ 0xFFFF000040080000
[ 44.709861 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.716805 0 driver_pci::root_complex:145] dev + 1
[ 44.722794 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 17, function: 0 } to idx 0xFFFF000040088000
[ 44.736248 0 driver_pci::root_complex:138] begin: 00:11.0 @ 0xFFFF000040088000
[ 44.744668 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.751612 0 driver_pci::root_complex:145] dev + 1
[ 44.757601 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 18, function: 0 } to idx 0xFFFF000040090000
[ 44.771055 0 driver_pci::root_complex:138] begin: 00:12.0 @ 0xFFFF000040090000
[ 44.779475 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.786419 0 driver_pci::root_complex:145] dev + 1
[ 44.792408 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 19, function: 0 } to idx 0xFFFF000040098000
[ 44.805862 0 driver_pci::root_complex:138] begin: 00:13.0 @ 0xFFFF000040098000
[ 44.814282 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.821226 0 driver_pci::root_complex:145] dev + 1
[ 44.827215 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 20, function: 0 } to idx 0xFFFF0000400A0000
[ 44.840669 0 driver_pci::root_complex:138] begin: 00:14.0 @ 0xFFFF0000400A0000
[ 44.849089 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.856032 0 driver_pci::root_complex:145] dev + 1
[ 44.862022 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 21, function: 0 } to idx 0xFFFF0000400A8000
[ 44.875475 0 driver_pci::root_complex:138] begin: 00:15.0 @ 0xFFFF0000400A8000
[ 44.883895 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.890839 0 driver_pci::root_complex:145] dev + 1
[ 44.896828 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 22, function: 0 } to idx 0xFFFF0000400B0000
[ 44.910282 0 driver_pci::root_complex:138] begin: 00:16.0 @ 0xFFFF0000400B0000
[ 44.918702 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.925646 0 driver_pci::root_complex:145] dev + 1
[ 44.931635 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 23, function: 0 } to idx 0xFFFF0000400B8000
[ 44.945089 0 driver_pci::root_complex:138] begin: 00:17.0 @ 0xFFFF0000400B8000
[ 44.953509 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.960453 0 driver_pci::root_complex:145] dev + 1
[ 44.966442 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 24, function: 0 } to idx 0xFFFF0000400C0000
[ 44.979896 0 driver_pci::root_complex:138] begin: 00:18.0 @ 0xFFFF0000400C0000
[ 44.988316 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 44.995259 0 driver_pci::root_complex:145] dev + 1
[ 45.001249 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 25, function: 0 } to idx 0xFFFF0000400C8000
[ 45.014703 0 driver_pci::root_complex:138] begin: 00:19.0 @ 0xFFFF0000400C8000
[ 45.023123 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.030066 0 driver_pci::root_complex:145] dev + 1
[ 45.036056 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 26, function: 0 } to idx 0xFFFF0000400D0000
[ 45.049510 0 driver_pci::root_complex:138] begin: 00:1a.0 @ 0xFFFF0000400D0000
[ 45.057929 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.064873 0 driver_pci::root_complex:145] dev + 1
[ 45.070862 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 27, function: 0 } to idx 0xFFFF0000400D8000
[ 45.084316 0 driver_pci::root_complex:138] begin: 00:1b.0 @ 0xFFFF0000400D8000
[ 45.092736 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.099680 0 driver_pci::root_complex:145] dev + 1
[ 45.105669 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 28, function: 0 } to idx 0xFFFF0000400E0000
[ 45.119123 0 driver_pci::root_complex:138] begin: 00:1c.0 @ 0xFFFF0000400E0000
[ 45.127543 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.134487 0 driver_pci::root_complex:145] dev + 1
[ 45.140476 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 29, function: 0 } to idx 0xFFFF0000400E8000
[ 45.153930 0 driver_pci::root_complex:138] begin: 00:1d.0 @ 0xFFFF0000400E8000
[ 45.162350 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.169293 0 driver_pci::root_complex:145] dev + 1
[ 45.175283 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 30, function: 0 } to idx 0xFFFF0000400F0000
[ 45.188737 0 driver_pci::root_complex:138] begin: 00:1e.0 @ 0xFFFF0000400F0000
[ 45.197157 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.204100 0 driver_pci::root_complex:145] dev + 1
[ 45.210089 0 driver_pci::phytium:70] mapconf 0xffff000040000000-PciAddress { bus: 0, device: 31, function: 0 } to idx 0xFFFF0000400F8000
[ 45.223543 0 driver_pci::root_complex:138] begin: 00:1f.0 @ 0xFFFF0000400F8000
[ 45.231963 0 driver_pci::root_complex:141] vid FFFF, did FFFF
[ 45.238907 0 driver_pci::root_complex:145] dev + 1
[ 45.244896 0 driver_pci::root_complex:116] none!
[ 45.250712 0 axdriver:190] number of usb host controller: 0
[ 45.257483 0 axruntime:201] Primary CPU 512 init OK.
Available commands:
  exit
  help
  uname
  ldr
  str
  test_xhci
  enum_device
arceos# test_xhci
[ 47.250961 0:2 driver_usb::host::xhci:49] resetting xhci controller
[ 47.255722 0:2 driver_usb::host::xhci:50] before reset:UsbStatusRegister { hc_halted: false, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false },pagesize: 1
[ 47.285321 0:2 driver_usb::host::xhci:136] stop
[ 47.291050 0:2 driver_usb::host::xhci:141] wait until halt
[ 47.297733 0:2 driver_usb::host::xhci:143] halted
[ 47.303635 0:2 driver_usb::host::xhci:145] HCRST!
[ 47.309539 0:2 driver_usb::host::xhci:154] get bios ownership
[ 47.316483 0:2 driver_usb::host::xhci:168] taked xhci ownershop
[ 47.323600 0:2 driver_usb::host::xhci:56] pagesize: 1
[ 47.329850 0:2 driver_usb::host::structures::xhci_roothub:86] number of ports:2
[ 47.338355 0:2 driver_usb::host::structures::xhci_roothub:91] allocating port 0
[ 47.346864 0:2 driver_usb::host::structures:100] ----dumped port state: PortStatusAndControlRegister { current_connect_status: false, port_enabled_disabled: false, over_current_active: false, port_reset: false, port_link_state: 5, port_power: true, port_speed: 0, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: false, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 47.411268 0:2 driver_usb::host::structures::xhci_roothub:98] assert:0 == 0
[ 47.419426 0:2 driver_usb::host::structures::xhci_roothub:91] allocating port 1
[ 47.427934 0:2 driver_usb::host::structures:100] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 47.492078 0:2 driver_usb::host::structures::xhci_roothub:98] assert:1 == 1
[ 47.500237 0:2 driver_usb::host::structures::xhci_roothub:102] ended
[ 47.507790 0:2 driver_usb::host::structures::xhci_roothub:112] initialized!
[ 47.515949 0:2 driver_usb::host::structures::xhci_slot_manager:63] max slot: 16
[ 47.524457 0:2 driver_usb::host::structures::xhci_slot_manager:87] addr of dcbaa: 90196040
[ 47.533917 0:2 driver_usb::host::structures::xhci_slot_manager:96] initialized!
[ 47.542425 0:2 driver_usb::host::structures::xhci_slot_manager:24] assign device: VA:0x90197000 to dcbaa 0
[ 47.553274 0:2 driver_usb::host::structures::scratchpad:79] initialized!
[ 47.561207 0:2 driver_usb::host::structures::xhci_command_manager:271] initialized!
[ 47.570024 0:2 driver_usb::host::structures::xhci_event_manager:43] initilizating!
[ 47.578825 0:2 driver_usb::host::structures::event_ring:33] created! event ring, check alignment of 4k: VA:0x9019a000
[ 47.590597 0:2 driver_usb::host::structures::xhci_event_manager:56] test
[ 47.598500 0:2 driver_usb::host::structures::xhci_event_manager:96] initialized!
[ 47.607088 0:2 driver_usb::host::xhci:70] before start:UsbStatusRegister { hc_halted: true, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false }
[ 47.635560 0:2 driver_usb::host::xhci:82] init completed!, coltroller state:UsbStatusRegister { hc_halted: false, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false }
[ 47.665941 0:2 driver_usb::host::xhci:91] port0 : false
[ 47.672363 0:2 driver_usb::host::xhci:91] port1 : true
[ 47.678698 0:2 driver_usb::host::xhci:101] initializing roothub
[ 47.685816 0:2 driver_usb::host::structures::xhci_roothub:40] initializing root ports
[ 47.694843 0:2 driver_usb::host::structures::xhci_roothub:45] initializing port 0
[ 47.703525 0:2 driver_usb::host::structures::root_port:26] port 0 not connected
[ 47.712029 0:2 driver_usb::host::structures::xhci_roothub:45] initializing port 1
[ 47.720711 0:2 driver_usb::host::structures::root_port:29] port 1 connected, continue
[ 47.729737 0:2 driver_usb::host::structures:112] reseting port 1
[ 47.736943 0:2 driver_usb::host::structures:114] before reset Port 1, status: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 47.801619 0:2 driver_usb::host::structures:140] Port 1 reset ok, status: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 47.865927 0:2 driver_usb::host::structures:100] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 47.930073 0:2 driver_usb::host::structures::root_port:39] port speed: USBSpeedSuper
[ 47.939011 0:2 driver_usb::host::structures::root_port:41] initializing device: USBSpeedSuper
[ 47.948733 0:2 driver_usb::host::structures::xhci_usb_device:63] new device! port:1
[ 47.957656 0:2 driver_usb::host::structures::root_port:44] writing ...
[ 47.965312 0:2 driver_usb::host::structures::root_port:47] writing complete
[ 47.973471 0:2 driver_usb::host::structures::xhci_usb_device:83] initialize/enum this device! port=1
[ 47.983801 0:2 driver_usb::host::structures::xhci_command_manager:147] do command EnableSlot(EnableSlot { slot_type: 0, cycle_bit: true }) !
[ 47.997601 0:2 driver_usb::host::structures::xhci_command_manager:151] enque trb, assert addr 16B aligned! 90198000
[ 48.009234 0:2 driver_usb::host::structures::xhci_command_manager:167] waiting for interrupt handler complete!
[ 48.020432 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:PortStatusChange(PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true })
[ 48.038484 0:2 driver_usb::host::structures::xhci_event_manager:135] step into port status change.

[ 48.048813 0:2 driver_usb::host::structures::xhci_roothub:65] port 1 changed!
[ 48.057147 0:2 driver_usb::host::structures:100] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 48.121293 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:PortStatusChange(PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true })
[ 48.139345 0:2 driver_usb::host::structures::xhci_event_manager:135] step into port status change.

[ 48.149675 0:2 driver_usb::host::structures::xhci_roothub:65] port 1 changed!
[ 48.158009 0:2 driver_usb::host::structures:100] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 48.222154 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590272, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 48.246978 0:2 driver_usb::host::structures::xhci_command_manager:230] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590272, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.270589 0:2 driver_usb::host::structures::xhci_command_manager:182] t o t a l success!
[ 48.279962 0:2 driver_usb::host::structures::xhci_usb_device:145] enable slot success! CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590272, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.302616 0:2 driver_usb::host::structures::xhci_usb_device:200] init input ctx
[ 48.311210 0:2 driver_usb::host::structures::xhci_usb_device:266] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 48.323362 0:2 driver_usb::host::structures::xhci_usb_device:208] root port id: 1
[ 48.332043 0:2 driver_usb::host::structures::xhci_usb_device:241] begin config endpoint 0 and assign dev!
[ 48.342807 0:2 driver_usb::host::structures::xhci_usb_device:244] config ep0
[ 48.351051 0:2 driver_usb::host::structures::xhci_usb_device:266] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 48.363203 0:2 driver_usb::host::structures::xhci_usb_device:252] address of transfer ring: 9019d000
[ 48.373533 0:2 driver_usb::host::structures::xhci_usb_device:275] assigning device into dcbaa, slot number= 1,output addr: VA:0x901a1000
[ 48.386986 0:2 driver_usb::host::structures::xhci_slot_manager:24] assign device: VA:0x901a1000 to dcbaa 1
[ 48.397837 0:2 driver_usb::host::structures::xhci_usb_device:289] addressing device
[ 48.406690 0:2 driver_usb::host::structures::xhci_usb_device:291] address to input VA:0x9019f000, check 64 alignment!
[ 48.418495 0:2 driver_usb::host::structures::xhci_command_manager:105] addressing device!
[ 48.427869 0:2 driver_usb::host::structures::xhci_command_manager:147] do command AddressDevice(AddressDevice { input_context_pointer: 2417618944, block_set_address_request: false, slot_id: 1, cycle_bit: true }) !
[ 48.448006 0:2 driver_usb::host::structures::xhci_command_manager:151] enque trb, assert addr 16B aligned! 90198010
[ 48.459638 0:2 driver_usb::host::structures::xhci_command_manager:167] waiting for interrupt handler complete!
[ 48.470836 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590288, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 48.495659 0:2 driver_usb::host::structures::xhci_command_manager:230] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590288, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.519270 0:2 driver_usb::host::structures::xhci_command_manager:182] t o t a l success!
[ 48.528644 0:2 driver_usb::host::structures::xhci_usb_device:300] addressed device at slot id 1
[ 48.538539 0:2 driver_usb::host::structures::xhci_usb_device:301] command result CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590288, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.560673 0:2 driver_usb::host::structures::xhci_usb_device:306] assert ep0 running!
[ 48.569700 0:2 driver_usb::host::structures::xhci_usb_device:266] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 48.581852 0:2 driver_usb::host::structures::xhci_usb_device:368] get descriptor!
[ 48.590532 0:2 driver_usb::host::structures::xhci_usb_device:266] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 48.602685 0:2 driver_usb::host::structures::xhci_usb_device:376] doorbell id: 1
[ 48.611279 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 1
[ 48.619697 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 2
[ 48.628117 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 3
[ 48.636536 0:2 driver_usb::host::structures::xhci_usb_device:350] doorbell ing
[ 48.644957 0:2 driver_usb::host::structures::xhci_usb_device:357] waiting for event
[ 48.653810 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:TransferEvent(TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610784, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true })
[ 48.678634 0:2 driver_usb::host::structures::xhci_event_manager:109] event = TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610784, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 48.700768 0:2 driver_usb::host::structures::xhci_event_manager:110] step into transfer event

[ 48.710663 0:2 driver_usb::host::structures::xhci_slot_manager:45] transfer event! param: Success,TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610784, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 48.734620 0:2 driver_usb::host::structures::xhci_slot_manager:48] transfer event succeed!
[ 48.744081 0:2 driver_usb::host::structures::xhci_usb_device:360] interrupt handler complete! result = Ok([2417610784, 0, 16777216, 16875521])
[ 48.758056 0:2 driver_usb::host::structures::xhci_usb_device:404] getted! buffer:Device { len: 18, descriptor_type: 1, cd_usb: 800, class: 0, subclass: 0, protocol: 0, max_packet_size0: 9, vendor: 0, product_id: 0, device: 0, manufacture: 0, product: 0, serial_number: 0, num_configurations: 0 }
[ 48.785311 0:2 driver_usb::host::structures::xhci_usb_device:406] return!
[ 48.793298 0:2 driver_usb::host::structures::xhci_usb_device:91] get max packet size: 512
[ 48.802671 0:2 driver_usb::host::structures::xhci_usb_device:418] eval ctx and enable ep0!
[ 48.812133 0:2 driver_usb::host::structures::xhci_command_manager:147] do command EvaluateContext(EvaluateContext { input_context_pointer: 2417618944, slot_id: 1, cycle_bit: true }) !
[ 48.829666 0:2 driver_usb::host::structures::xhci_command_manager:151] enque trb, assert addr 16B aligned! 90198020
[ 48.841298 0:2 driver_usb::host::structures::xhci_command_manager:167] waiting for interrupt handler complete!
[ 48.852496 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590304, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 48.877319 0:2 driver_usb::host::structures::xhci_command_manager:230] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590304, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.900930 0:2 driver_usb::host::structures::xhci_command_manager:182] t o t a l success!
[ 48.910303 0:2 driver_usb::host::structures::xhci_usb_device:427] success! complete code: CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590304, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 48.933238 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 4
[ 48.941639 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 5
[ 48.950058 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 6
[ 48.958477 0:2 driver_usb::host::structures::xhci_usb_device:350] doorbell ing
[ 48.966897 0:2 driver_usb::host::structures::xhci_usb_device:357] waiting for event
[ 48.975752 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:TransferEvent(TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610832, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true })
[ 49.000575 0:2 driver_usb::host::structures::xhci_event_manager:109] event = TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610832, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 49.022709 0:2 driver_usb::host::structures::xhci_event_manager:110] step into transfer event

[ 49.032604 0:2 driver_usb::host::structures::xhci_slot_manager:45] transfer event! param: Success,TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610832, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 49.056561 0:2 driver_usb::host::structures::xhci_slot_manager:48] transfer event succeed!
[ 49.066022 0:2 driver_usb::host::structures::xhci_usb_device:360] interrupt handler complete! result = Ok([2417610832, 0, 16777216, 16875521])
[ 49.079997 0:2 driver_usb::host::structures::xhci_usb_device:159] fetched!
[ 49.088074 0:2 driver_usb::host::structures::xhci_usb_device:161] dev descriptors: [Device(Device { len: 18, descriptor_type: 1, cd_usb: 800, class: 0, subclass: 0, protocol: 0, max_packet_size0: 9, vendor: 2385, product_id: 5734, device: 1, manufacture: 1, product: 2, serial_number: 3, num_configurations: 1 })]
[ 49.116887 0:2 driver_usb::host::structures::root_port:51] initialize complete
[ 49.125325 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 7
[ 49.133727 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 8
[ 49.142147 0:2 driver_usb::host::structures::transfer_ring:137] enque_index: 9
[ 49.150566 0:2 driver_usb::host::structures::xhci_usb_device:350] doorbell ing
[ 49.158986 0:2 driver_usb::host::structures::xhci_usb_device:357] waiting for event
[ 49.167840 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:TransferEvent(TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610880, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true })
[ 49.192663 0:2 driver_usb::host::structures::xhci_event_manager:109] event = TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610880, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 49.214797 0:2 driver_usb::host::structures::xhci_event_manager:110] step into transfer event

[ 49.224693 0:2 driver_usb::host::structures::xhci_slot_manager:45] transfer event! param: Success,TransferEvent { completion_code: Ok(Success), trb_pointer: 2417610880, trb_transfer_length: 0, event_data: false, endpoint_id: 1, slot_id: 1, cycle_bit: true }
[ 49.248649 0:2 driver_usb::host::structures::xhci_slot_manager:48] transfer event succeed!
[ 49.258111 0:2 driver_usb::host::structures::xhci_usb_device:360] interrupt handler complete! result = Ok([2417610880, 0, 16777216, 16875521])
[ 49.272086 0:2 driver_usb::host::structures::xhci_usb_device:172] fetched!
[ 49.280164 0:2 driver_usb::host::structures::descriptor:188] Unrecognized USB descriptor: UnrecognizedType(48)
[ 49.291358 0:2 driver_usb::host::structures::descriptor:188] Unrecognized USB descriptor: UnrecognizedType(48)
[ 49.302554 0:2 driver_usb::host::structures::xhci_usb_device:174] config descriptors: [Configuration(Configuration { length: 9, ty: 2, total_length: 44, num_interfaces: 1, config_val: 1, config_string: 0, attributes: 128, max_power: 37 }), Interface(Interface { len: 9, descriptor_type: 4, interface_number: 0, alternate_setting: 0, num_endpoints: 2, interface_class: 8, interface_subclass: 6, interface_protocol: 80, interface: 0 }), Endpoint(Endpoint { len: 7, descriptor_type: 5, endpoint_address: 129, attributes: 2, max_packet_size: 1024, interval: 0 }), Endpoint(Endpoint { len: 7, descriptor_type: 5, endpoint_address: 2, attributes: 2, max_packet_size: 1024, interval: 0 })]
[ 49.363478 0:2 driver_usb::host::structures::xhci_command_manager:147] do command ConfigureEndpoint(ConfigureEndpoint { input_context_pointer: 2417618944, deconfigure: false, slot_id: 1, cycle_bit: true }) !
[ 49.383016 0:2 driver_usb::host::structures::xhci_command_manager:151] enque trb, assert addr 16B aligned! 90198030
[ 49.394648 0:2 driver_usb::host::structures::xhci_command_manager:167] waiting for interrupt handler complete!
[ 49.405845 0:2 driver_usb::host::structures::xhci_event_manager:106] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590320, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 49.430669 0:2 driver_usb::host::structures::xhci_command_manager:230] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417590320, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 49.454280 0:2 driver_usb::host::structures::xhci_command_manager:182] t o t a l success!
[ 49.463654 0:2 driver_usb::host::structures::xhci_usb_device:114] configure endpoint complete
[ 49.473375 0:2 driver_usb::host::structures::root_port:54] configure complete
arceos# 