 

arceos# test_x xhci
[ 36.349895 0:2 driver_usb::host::port::spawner:10] port numbers: 2
[ 36.354405 0:2 driver_usb::host::port::spawner:42] port 1 is false
[ 36.361782 0:2 driver_usb::host::port:83] port sttaus: PortStatusAndControlRegister { current_connect_status: false, port_enabled_disabled: false, over_current_active: false, port_reset: false, port_link_state: 5, port_power: true, port_speed: 0, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: false, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.424710 0:2 driver_usb::host::port::spawner:24] return!
[ 36.431395 0:2 driver_usb::host::port::spawner:42] port 2 is true
[ 36.438686 0:2 driver_usb::host::port:83] port sttaus: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.501354 0:2 driver_usb::host::port::spawner:19] spawn port 2
[ 36.508472 0:2 driver_usb::host::port::spawner:30] mark as spawned
[ 36.515851 0:2 driver_usb::host::port::spawner:32] add task!
[ 36.522707 0:2 driver_usb::host::port:45] get op!
[ 36.528609 0:2 driver_usb::host::port:53] waiting reset!
[ 36.535120 0:2 driver_usb::host::port:56] init!
[ 36.540848 0:2 driver_usb::host::port::init:14] reset
[ 36.547100 0:2 driver_usb::host::port::init::resetter:27] before reset Port, status: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.612380 0:2 driver_usb::host::port::init::resetter:38] reset complete, state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.677298 0:2 driver_usb::host::exchanger::command:113] send and receive: EnableSlot(EnableSlot { slot_type: 0, cycle_bit: false })
[ 36.690408 0:2 driver_usb::host::structures::ring::event:33] This is the Event ring task.
[ 36.699781 0:2 driver_usb::host::structures::ring::event:55] status change! PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true }
[ 36.714797 0:2 driver_usb::host::port::spawner:42] port 2 is false
[ 36.722175 0:2 driver_usb::host::port:83] port sttaus: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.784843 0:2 driver_usb::host::port::spawner:24] return!
[ 36.791527 0:2 driver_usb::host::structures::ring::event:57] evt spawnned!
[ 36.799599 0:2 driver_usb::host::structures::ring::event:55] status change! PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true }
[ 36.814617 0:2 driver_usb::host::port::spawner:42] port 2 is false
[ 36.821995 0:2 driver_usb::host::port:83] port sttaus: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 36.884663 0:2 driver_usb::host::port::spawner:24] return!
[ 36.891346 0:2 driver_usb::host::structures::ring::event:57] evt spawnned!
[ 36.899420 0:2 driver_usb::host::structures::ring::event:44] complete ! CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573888, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 36.920772 0:2 driver_usb::host::exchanger::receiver:117] lock...?
[ 36.928150 0:2 driver_usb::host::exchanger::receiver:119] LOCK!
[ 36.935267 0:2 driver_usb::host::exchanger::receiver:122] waiting for trb!
[ 36.943417 0:2 driver_usb::host::port::init:16] init
[ 36.949508 0:2 driver_usb::host::exchanger::command:113] send and receive: AddressDevice(AddressDevice { input_context_pointer: 2417848320, block_set_address_request: false, slot_id: 1, cycle_bit: false })
[ 36.968947 0:2 driver_usb::host::structures::ring::event:33] This is the Event ring task.
[ 36.978321 0:2 driver_usb::host::structures::ring::event:44] complete ! CommandCompletion { completion_code: Ok(ParameterError), command_trb_pointer: 2417573904, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 37.000281 0:2 axruntime::lang_items:5] panicked at crates/driver_usb/src/host/structures/ring/event/mod.rs:45:17:
assertion `left == right` failed
  left: Ok(ParameterError)
 right: Ok(Success)
[ 37.019030 0:2 axhal::platform::aarch64_phytium_pi::misc:22] Shutting down...
