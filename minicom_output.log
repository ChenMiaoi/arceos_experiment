 

arceos# test_xhci
[ 41.029952 0:2 driver_usb::host::xhci:49] resetting xhci controller
[ 41.034714 0:2 driver_usb::host::xhci:50] before reset:UsbStatusRegister { hc_halted: false, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false }
[ 41.063271 0:2 driver_usb::host::xhci:126] stop
[ 41.069000 0:2 driver_usb::host::xhci:131] wait until halt
[ 41.075684 0:2 driver_usb::host::xhci:133] halted
[ 41.081585 0:2 driver_usb::host::xhci:135] HCRST!
[ 41.087489 0:2 driver_usb::host::xhci:161] Reset xHCI Controller Globally
[ 41.095474 0:2 driver_usb::host::structures::xhci_slot_manager:65] max slot: 16
[ 41.103984 0:2 driver_usb::host::structures::xhci_slot_manager:84] initialized!
[ 41.112489 0:2 driver_usb::host::structures::xhci_slot_manager:21] assign device: VA:0x90192000 to dcbaa 0
[ 41.123338 0:2 driver_usb::host::structures::scratchpad:79] initialized!
[ 41.131237 0:2 driver_usb::host::structures::xhci_roothub:99] number of ports:2
[ 41.139741 0:2 driver_usb::host::structures::xhci_roothub:104] allocating port 0
[ 41.148337 0:2 driver_usb::host::structures:101] ----dumped port state: PortStatusAndControlRegister { current_connect_status: false, port_enabled_disabled: false, over_current_active: false, port_reset: false, port_link_state: 5, port_power: true, port_speed: 0, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: false, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 41.212741 0:2 driver_usb::host::structures::xhci_roothub:111] assert:0 == 0
[ 41.220986 0:2 driver_usb::host::structures::xhci_roothub:104] allocating port 1
[ 41.229581 0:2 driver_usb::host::structures:101] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 41.293725 0:2 driver_usb::host::structures::xhci_roothub:111] assert:1 == 1
[ 41.301971 0:2 driver_usb::host::structures::xhci_roothub:115] ended
[ 41.309523 0:2 driver_usb::host::structures::xhci_roothub:125] initialized!
[ 41.317718 0:2 driver_usb::host::structures::xhci_command_manager:252] initialized!
[ 41.326535 0:2 driver_usb::host::structures::xhci_event_manager:43] initilizating!
[ 41.335335 0:2 driver_usb::host::structures::event_ring:33] created!
[ 41.342854 0:2 driver_usb::host::structures::xhci_event_manager:56] test
[ 41.350758 0:2 driver_usb::host::structures::xhci_event_manager:99] initialized!
[ 41.359346 0:2 driver_usb::host::xhci:65] before start:UsbStatusRegister { hc_halted: true, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false }
[ 41.387817 0:2 driver_usb::host::xhci:76] init completed!, coltroller state:UsbStatusRegister { hc_halted: false, host_system_error: false, event_interrupt: false, port_change_detect: true, save_state_status: false, restore_state_status: false, save_restore_error: false, controller_not_ready: false, host_controller_error: false }
[ 41.418198 0:2 driver_usb::host::xhci:85] port0 : false
[ 41.424620 0:2 driver_usb::host::xhci:85] port1 : true
[ 41.430955 0:2 driver_usb::host::xhci:95] initializing roothub
[ 41.437986 0:2 driver_usb::host::structures::xhci_roothub:45] initializing root ports
[ 41.447014 0:2 driver_usb::host::structures::xhci_roothub:50] initializing port 0
[ 41.455696 0:2 driver_usb::host::structures::root_port:25] port 0 not connected
[ 41.464200 0:2 driver_usb::host::structures::xhci_roothub:50] initializing port 1
[ 41.472881 0:2 driver_usb::host::structures::root_port:28] port 1 connected, continue
[ 41.481908 0:2 driver_usb::host::structures:113] reseting port 1
[ 41.489113 0:2 driver_usb::host::structures:115] before reset Port 1, status: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 41.553783 0:2 driver_usb::host::structures:134] Port 1 reset ok, status: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 41.618098 0:2 driver_usb::host::structures:101] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 41.682243 0:2 driver_usb::host::structures::root_port:37] port speed: USBSpeedSuper
[ 41.691182 0:2 driver_usb::host::structures::root_port:39] initializing device: USBSpeedSuper
[ 41.700903 0:2 driver_usb::host::structures::xhci_usb_device:48] new device! port:1
[ 41.709797 0:2 driver_usb::host::structures::context:23] debug input: Input { control: InputControl { Drop Context flags: 0, Add Context flags: 0, configuration_value: 0, interface_number: 0, alternate_setting: 0 }, device: Device { slot: Slot { route_string: 0, speed: 0, multi_tt: false, hub: false, context_entries: 0, max_exit_latency: 0, root_hub_port_number: 0, number_of_ports: 0, parent_hub_slot_id: 0, parent_port_number: 0, tt_think_time: 0, interrupter_target: 0, usb_device_address: 0, slot_state: DisabledEnabled }, endpoints: [Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }, Endpoint { endpoint_state: Disabled, mult: 0, max_primary_streams: 0, linear_stream_array: false, interval: 0, max_endpoint_service_time_interval_payload_high: 0, error_count: 0, endpoint_type: NotValid, host_initiate_disable: false, max_burst_size: 0, max_packet_size: 0, dequeue_cycle_state: false, tr_dequeue_pointer: 0, average_trb_length: 0, max_endpoint_service_time_interval_payload_low: 0 }] } }
[ 42.834981 0:2 driver_usb::host::structures::root_port:42] writing ...
[ 42.842671 0:2 driver_usb::host::structures::root_port:45] writing complete
[ 42.850830 0:2 driver_usb::host::structures::xhci_usb_device:63] initialize/enum this device! port=1
[ 42.861159 0:2 driver_usb::host::structures::xhci_command_manager:141] do command EnableSlot(EnableSlot { slot_type: 0, cycle_bit: false }) !
[ 42.875048 0:2 driver_usb::host::structures::xhci_command_manager:156] waiting for interrupt handler complete!
[ 42.886247 0:2 driver_usb::host::structures::xhci_event_manager:109] event handler has a trb:PortStatusChange(PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true })
[ 42.904299 0:2 driver_usb::host::structures::xhci_event_manager:138] step into port status change.

[ 42.914628 0:2 driver_usb::host::structures::xhci_roothub:78] port 1 changed!
[ 42.922962 0:2 driver_usb::host::structures:101] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 42.987107 0:2 driver_usb::host::structures::xhci_event_manager:109] event handler has a trb:PortStatusChange(PortStatusChange { completion_code: Ok(Success), port_id: 2, cycle_bit: true })
[ 43.005160 0:2 driver_usb::host::structures::xhci_event_manager:138] step into port status change.

[ 43.015489 0:2 driver_usb::host::structures::xhci_roothub:78] port 1 changed!
[ 43.023824 0:2 driver_usb::host::structures:101] ----dumped port state: PortStatusAndControlRegister { current_connect_status: true, port_enabled_disabled: true, over_current_active: false, port_reset: false, port_link_state: 0, port_power: true, port_speed: 4, port_indicator_control: Off, port_link_state_write_strobe: false, connect_status_change: false, port_enabled_disabled_change: false, warm_port_reset_change: false, over_current_change: false, port_reset_change: true, port_link_state_change: false, port_config_error_change: false, cold_attach_status: false, wake_on_connect_enable: false, wake_on_disconnect_enable: false, wake_on_over_current_enable: false, device_removable: false, warm_port_reset: false }
[ 43.087969 0:2 driver_usb::host::structures::xhci_event_manager:109] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573888, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 43.112792 0:2 driver_usb::host::structures::xhci_command_manager:210] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573888, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 43.136402 0:2 driver_usb::host::structures::xhci_command_manager:162] t o t a l success!
[ 43.145776 0:2 driver_usb::host::structures::xhci_usb_device:101] enable slot success! CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573888, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 43.168431 0:2 driver_usb::host::structures::xhci_usb_device:228] addressing device
[ 43.177285 0:2 driver_usb::host::structures::xhci_command_manager:105] addressing device!
[ 43.186659 0:2 driver_usb::host::structures::xhci_command_manager:141] do command AddressDevice(AddressDevice { input_context_pointer: 2417594368, block_set_address_request: true, slot_id: 1, cycle_bit: false }) !
[ 43.206798 0:2 driver_usb::host::structures::xhci_command_manager:156] waiting for interrupt handler complete!
[ 43.217995 0:2 driver_usb::host::structures::xhci_event_manager:109] event handler has a trb:CommandCompletion(CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573904, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true })
[ 43.242818 0:2 driver_usb::host::structures::xhci_command_manager:210] handleing command complete:CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573904, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 43.266428 0:2 driver_usb::host::structures::xhci_command_manager:162] t o t a l success!
[ 43.275803 0:2 driver_usb::host::structures::xhci_usb_device:251] addressed device at slot id 1
[ 43.285698 0:2 driver_usb::host::structures::xhci_usb_device:252] command result CommandCompletion { completion_code: Ok(Success), command_trb_pointer: 2417573904, command_completion_parameter: 0, vf_id: 0, slot_id: 1, cycle_bit: true }
[ 43.307832 0:2 driver_usb::host::structures::xhci_usb_device:262] assert ep0 running!
[ 43.316860 0:2 driver_usb::host::structures::xhci_usb_device:208] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 43.329012 0:2 driver_usb::host::structures::xhci_usb_device:208] endpoint 0 state: Disabled, slot state: DisabledEnabled
[ 43.341163 0:2 driver_usb::host::structures::xhci_usb_device:216] assigning device into dcbaa, slot number= 1
[ 43.352274 0:2 driver_usb::host::structures::xhci_slot_manager:21] assign device: VA:0x9019a000 to dcbaa 1
[ 43.363123 0:2 driver_usb::host::structures::root_port:49] initialize complete
[ 43.371543 0:2 driver_usb::host::structures::xhci_roothub:54] configuring root ports
arceos# 